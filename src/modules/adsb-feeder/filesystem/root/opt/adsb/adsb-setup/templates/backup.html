{% extends "base-regular.html" %}
{% set active_page = "backup" %}
{% block title %}
  Create a backup of your configuration
{% endblock title %}
{% block content %}
  <p>
    You can download a backup of the current feeder configuration here. You can choose which parts of the data you want
    to include below, but note that you have to choose at least one.
  </p>
  <form action="{{ url_for('download_backup') }}"
        method="get"
        target="_blank">
    <div class="form-outline">
      <div class="form-check">
        <label class="form-check-label">
          <input type="checkbox"
                 class="form-check-input"
                 name="include-config"
                 checked>
          Feeder config
        </label>
        <div class="form-text">
          This is the central configuration of the feeder and not particularly big. It contains all of your settings,
          including passwords for aggregators (so keep this file secure!). If you restore a backup with a config, the
          device you restore it on will behave the same as this one.
        </div>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" name="include-stats" checked>
          The feeder's own collected stats
        </label>
        <div class="form-text">
          These are general reception stats generated by the feeder itself. They are used for the graph on the overview
          page. Including this makes the file a little bigger, but not much.
        </div>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" name="include-graphs1090">
          Graphs1090 graph data
        </label>
        <div class="form-text">
          This is statistical data written by the ADS-B component used for graphs. It adds a significant amount of size
          to the backup (roughly 15MiB). If you only use AIS, this has no effect.
        </div>
      </div>
      <div class="form-check">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" name="include-heatmap">
          Heatmap data
        </label>
        <div class="form-text">
          This is the complete replay/heatmap data of the ADS-B component. If you only use AIS, this has no effect.
          Depending on the amount of historic data you have (if this device has been running a long time), including
          this can take a long time and make the backup much larger. If you want to limit the data retained on disk, you
          can use <code>MAX_GLOBE_HISTORY=365</code> in the environment variables on the
          <a href="{{ url_for('expert') }}">expert page</a> to only retain a year of data.
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Download</button>
  </form>
{% endblock content %}
